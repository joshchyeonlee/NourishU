"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createStore;
var _RxTokenObject = _interopRequireDefault(require("./RxTokenObject"));
var _errors = require("./errors");
function createStore(params) {
  if (params.authType === 'cookie') {
    if (!params.cookieDomain && !params.cookieSecure) {
      throw new _errors.AuthError('authType \'cookie\' requires \'cookieDomain\'' + ' and \'cookieSecure\' props in AuthProvider');
    }
  }
  const refreshTokenName = params.refresh ? `${params.authName}_refresh` : null;
  const tokenObject = new _RxTokenObject.default(params.authName, params.authType, refreshTokenName, params.cookieDomain, params.cookieSecure);
  return {
    tokenObject,
    refresh: params.refresh
  };
}